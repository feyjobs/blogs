---
title: C++
date: 2018-01-13 21:19
categories: 
- Code
- C
tags:
---

## 指针声明对象与直接对象声明的区别
废话不多说先上code
```C++
class A{
    public:
        A(int a){this->a = a};
    private:
        int a;
}

int main(){
    A a = A(1);
    A* b = new A(1);
}
```
a,b两种声明方式，一个有new,一个没有new,有什么区别呢。
答案: 直接用构造函数生成对象是在栈中分配了内存空间，而通过new关键词是在堆中分配了内存空间。
一个进程的栈的内存空间往往非常少，参见ulimit -s 查看系统的进程栈空间最大值，栈的分配与释放都是由操作系统来维护的，而堆的内存，也就是动态内存分配，是由程序员自己负责管理，申请与销毁的
栈是由机器系统提供的数据结构，计算机底层会提供对栈的支持，分配专门的寄存器存放栈的地址，压栈出栈都有专门的指令执行。而堆是由C/C++提供的，库函数根据特有算法进行动态申请与分配

